/* Mobile overrides (append after css/styles.css)
   - Improve tap targets, spacing, modal stacking on small screens
   - Non-destructive: only applies on narrow viewports or via extra classes
*/

/* Slightly larger navbar tappable area on mobile */
@media (max-width: 768px) {
  .navbar { padding: .4rem 0; }
  .navbar .nav-link { padding: .75rem 0.8rem; font-size: 1rem; }
  .navbar-toggler { padding: .5rem; margin-left: .25rem; }

  /* Keep brand compact on phones */
  .navbar-logo { height: 44px !important; }
  .brand-mark { width:44px; height:44px !important; }

  /* Ensure collapsible nav takes full width and items are easy to tap */
  .navbar-collapse { background: rgba(255,255,255,0.98); padding: .5rem 1rem; border-top: 1px solid rgba(0,0,0,0.03); }
  .navbar-nav { width:100%; }
  .navbar-nav .nav-item { width:100%; }
  .navbar-nav .nav-link { display:block; width:100%; }

  /* Hero caption: stack CTA buttons (kept if not already applied) */
  .hero-caption .btn { display:block; width:100%; padding:.85rem; }
  .hero-caption .btn + .btn { margin-top:.6rem; }

  /* Carousel controls larger hit area */
  .carousel-control-prev, .carousel-control-next { min-width: 44px; }

  /* Product grid: reduce side gutters, improve card spacing */
  #productsGrid { margin-left: -0.5rem; margin-right: -0.5rem; }
  #productsGrid > .col-sm-6, #productsGrid > [class*="col-"] { padding-left: .5rem; padding-right: .5rem; }

  /* Card body padding tuned for small screens without changing desktop */
  .card-body { padding: .95rem; }

  /* Product card actions: stack or full-width buttons on very small screens */
  .product-card .btn { min-width: 0; }
  @media (max-width: 420px) {
    .product-card .mt-auto .btn { width: 100%; display: block; margin-top: .5rem; }
    .product-card .mt-auto .btn + .btn { margin-left: 0; }
  }

  /* Forms, search and newsletter: full width and stacked */
  .input-group .form-control, .input-group .btn { width:100%; display:block; }
  .input-group .btn { margin-top:.5rem; }
  .newsletter input, .newsletter button { width:100%; display:block; margin-bottom:.5rem; }
  .newsletter button { margin-bottom:0; }

  /* Footer actions (compact) */
  .footer .bottom { flex-direction: column; gap: .5rem; align-items: flex-start; }
}

/* Modal fullscreen fallback for small screens (if modal-fullscreen-sm-down not present) */
@media (max-width: 768px) {
  /* Make modal dialogs nearly fullscreen on phones */
  .modal-dialog.modal-fullscreen-sm-down,
  .modal-dialog[data-mobile-fullscreen="true"] {
    max-width: 100%;
    height: 100%;
    margin: 0.2rem;
  }

  .modal-content {
    height: 100%;
    display: flex;
    flex-direction: column;
    border-radius: 10px;
    overflow: hidden;
  }

  /* Stack modal body columns vertically for better mobile layout */
  .modal-body .row.g-0 { flex-direction: column; }
  .modal-body img.img-fluid, .modal-body #productModalImage {
    width: 100%;
    max-height: 280px;
    object-fit: cover;
    border-radius: 0;
  }

  /* Ensure footer stays visible and not overlapped */
  .modal-footer { flex-shrink: 0; }
}

/* Improve touch target for small icon buttons used across the site */
@media (max-width: 576px) {
  .btn.btn-sm, .bi { padding: .5rem; }
}

/* Slight performance hint: avoid heavy transforms on small screens */
@media (max-width: 576px) {
  .card, .product-card, .homepage-news .card { will-change: auto; }
}